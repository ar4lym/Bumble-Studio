<!DOCTYPE html>
<html>
<head>
  <title>Scene Popularity</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; background: #f9f9f9; }
    h1 { color: #333; }
    table { border-collapse: collapse; width: 50%; background: #fff; }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: center; }
    th { background-color: #4CAF50; color: white; }
  </style>
</head>
<body>
  <h1>Scene Popularity</h1>
  <table id="sceneTable">
    <thead>
      <tr>
        <th>Scene Name</th>
        <th>Visits</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script type="module">
    import { listenToLeaderboard } from "./firebase.js";

    const tbody = document.querySelector("#sceneTable tbody");

    // Call the leaderboard listener
    listenToLeaderboard((counts) => {
      console.log("ðŸ“Š Leaderboard:", counts);

      tbody.innerHTML = "";
      for (let scene in counts) {
        let row = `<tr><td>${scene}</td><td>${counts[scene]}</td></tr>`;
        tbody.innerHTML += row;
      }
    });
  </script>
</body>
</html>
